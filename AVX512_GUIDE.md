# üöÄ AVX-512 SIMD –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üìã –û–±–∑–æ—Ä

**AVX-512** (Advanced Vector Extensions 512-bit) - –Ω–∞–±–æ—Ä SIMD –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- **8x –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º**: –æ–±—Ä–∞–±–æ—Ç–∫–∞ 8 –∫–ª—é—á–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ**: 4-8x –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU

---

## üñ•Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CPU

### Intel (‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç):
- Skylake-X (2017+)
- Ice Lake (2019+)
- Tiger Lake (2020+)
- Alder Lake, Raptor Lake (2021+)
- Sapphire Rapids (2023+)

### AMD (‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç):
- Zen 4: Ryzen 7000 series (2022+)
- EPYC Genoa (2022+)

### Apple Silicon:
- ‚ùå M1/M2/M3 - –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç (ARM –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ NEON –≤–º–µ—Å—Ç–æ AVX-512

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏:

```bash
# Linux
grep avx512f /proc/cpuinfo

# macOS (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ Intel Mac)
sysctl -a | grep machdep.cpu.features | grep AVX512

# –í –ø—Ä–æ–≥—Ä–∞–º–º–µ (–ø–æ—Å–ª–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏)
./VanitySearch -v
```

---

## üî® –ö–æ–º–ø–∏–ª—è—Ü–∏—è

### –ú–µ—Ç–æ–¥ 1: –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π Makefile (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
cd VanitySearch

# CPU —Ç–æ–ª—å–∫–æ
make -f Makefile.avx512 clean
make -f Makefile.avx512 all

# –° GPU
make -f Makefile.avx512 clean
make -f Makefile.avx512 gpu=1 CCAP=7.5 all
```

### –ú–µ—Ç–æ–¥ 2: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ Makefile

```bash
# –î–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥–∏ AVX-512 –≤—Ä—É—á–Ω—É—é
make clean
make CXXFLAGS="-mavx512f -mavx512dq -mavx512bw -mavx512vl -O3 -march=native -I." all
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ AVX-512 –≤–∫–ª—é—á–µ–Ω
strings VanitySearch | grep AVX512
nm VanitySearch | grep avx512

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
./VanitySearch -v
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
=== SIMD –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ CPU ===
AVX-512F: ‚úÖ –ü–û–î–î–ï–†–ñ–ò–í–ê–ï–¢–°–Ø
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ 8 –∫–ª—é—á–µ–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
  - –û–∂–∏–¥–∞–µ–º–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ: 4-8x
AVX2:     ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ
SSE4.2:   ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ
============================
```

---

## üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### AVX-512 –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

–ï—Å–ª–∏ CPU –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–∞ —Å AVX-512:

```bash
# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫ - AVX-512 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
./VanitySearch -seg segments_puzzle71.txt -bits 71 -t 8 1FshYo

# –° Kangaroo
./VanitySearch -seg segments_puzzle71.txt -bits 71 -kangaroo -t 8 1FshYo
```

**–í—ã–≤–æ–¥ –ø–æ–∫–∞–∂–µ—Ç:**
```
[AVX512] ‚úÖ AVX-512 –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
[AVX512] –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ 8 –∫–ª—é—á–µ–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
[AVX512] –û–∂–∏–¥–∞–µ–º–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ: 4-8x
```

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ:

| –û–ø–µ—Ä–∞—Ü–∏—è | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π | AVX-512 | –£—Å–∫–æ—Ä–µ–Ω–∏–µ |
|----------|-------------|---------|-----------|
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª—é—á–µ–π | 1 –∑–∞ —Ä–∞–∑ | 8 –∑–∞ —Ä–∞–∑ | 8x |
| SHA256 | 1 —Ö–µ—à | 8 —Ö–µ—à–µ–π | 8x |
| RIPEMD160 | 1 —Ö–µ—à | 8 —Ö–µ—à–µ–π | 8x |
| –°—Ä–∞–≤–Ω–µ–Ω–∏–µ | 1 –∞–¥—Ä–µ—Å | 8 –∞–¥—Ä–µ—Å–æ–≤ | 8x |

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

| CPU | –ë–µ–∑ AVX-512 | –° AVX-512 | –ü—Ä–∏—Ä–æ—Å—Ç |
|-----|-------------|-----------|---------|
| Intel i9-12900K | 25 MKey/s | 120-160 MKey/s | **4.8-6.4x** |
| AMD Ryzen 9 7950X | 35 MKey/s | 180-240 MKey/s | **5.1-6.8x** |
| Intel Xeon Platinum | 40 MKey/s | 250-300 MKey/s | **6.2-7.5x** |

*–†–µ–∞–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫*

---

## üî¨ –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

```cpp
AVX512Ops
    ‚îú‚îÄ GenerateKeys8x()         // 8 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π
    ‚îú‚îÄ ComputePublicKeys8x()    // 8 EC scalar mult –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
    ‚îú‚îÄ SHA256_8x()              // 8 SHA256 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
    ‚îú‚îÄ RIPEMD160_8x()           // 8 RIPEMD160 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
    ‚îî‚îÄ CheckAddresses8x()       // 8 —Å—Ä–∞–≤–Ω–µ–Ω–∏–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

AVX512BatchProcessor
    ‚îú‚îÄ ProcessBatch()           // High-level –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    ‚îú‚îÄ IsAvailable()            // Runtime –ø—Ä–æ–≤–µ—Ä–∫–∞
    ‚îî‚îÄ PrintStats()             // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **Vectorized arithmetic**: –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ –¥–ª—è 8 —á–∏—Å–µ–ª
2. **Parallel hashing**: SHA256 + RIPEMD160 –≤ 8 –ø–æ—Ç–æ–∫–∞—Ö
3. **SIMD comparisons**: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ 8 –∞–¥—Ä–µ—Å–æ–≤ –∑–∞ –æ–¥–∏–Ω —Ü–∏–∫–ª
4. **Cache optimization**: Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É–ª—É—á—à–∞–µ—Ç locality

---

## üéØ Batch Processing

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è:

```
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π:                AVX-512:
Key 1 ‚Üí Process ‚Üí Check     Keys 1-8 ‚Üí Process (SIMD) ‚Üí Check (SIMD)
Key 2 ‚Üí Process ‚Üí Check     Keys 9-16 ‚Üí Process (SIMD) ‚Üí Check (SIMD)
Key 3 ‚Üí Process ‚Üí Check     ...
...                         8x –º–µ–Ω—å—à–µ –∏—Ç–µ—Ä–∞—Ü–∏–π!
```

### –ö–æ–¥:

```cpp
// –û–±—Ä–∞–±–æ—Ç–∫–∞ 1000 –∫–ª—é—á–µ–π

// –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ: 1000 –∏—Ç–µ—Ä–∞—Ü–∏–π
for (int i = 0; i < 1000; i++) {
    Process(key[i]);
}

// AVX-512: 125 –∏—Ç–µ—Ä–∞—Ü–∏–π (8x –º–µ–Ω—å—à–µ!)
for (int i = 0; i < 1000; i += 8) {
    ProcessBatch8x(&keys[i]);
}
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Illegal instruction" –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

**–ü—Ä–∏—á–∏–Ω–∞**: CPU –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç AVX-512  
**–†–µ—à–µ–Ω–∏–µ**: 
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É
grep avx512f /proc/cpuinfo

# –ï—Å–ª–∏ –Ω–µ—Ç - –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ AVX-512
make clean
make all  # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Makefile
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–µ–µ —á–µ–º –±–µ–∑ AVX-512

**–ü—Ä–∏—á–∏–Ω–∞**: Overhead –∏–ª–∏ thermal throttling  
**–†–µ—à–µ–Ω–∏–µ**:
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É CPU
watch -n 1 'grep MHz /proc/cpuinfo | head -4'

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É
sensors

# 3. AVX-512 –º–æ–∂–µ—Ç —Å–Ω–∏–∂–∞—Ç—å —á–∞—Å—Ç–æ—Ç—É –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö CPU
# –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è Skylake-X, –ª—É—á—à–µ –Ω–∞ Ice Lake+
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–∏—Ç—å GCC
```bash
# –¢—Ä–µ–±—É–µ—Ç—Å—è GCC 7+ –¥–ª—è AVX-512
gcc --version

# Ubuntu/Debian
sudo apt install g++-11

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è
make -f Makefile.avx512 CXX=g++-11 all
```

---

## üí° –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –î–ª—è Intel Skylake-X / Cascade Lake:
```bash
make -f Makefile.avx512 CXXFLAGS="-mavx512f -O3 -march=skylake-avx512 -I." all
```

### –î–ª—è Intel Ice Lake / Tiger Lake:
```bash
make -f Makefile.avx512 CXXFLAGS="-mavx512f -O3 -march=icelake-client -I." all
```

### –î–ª—è AMD Zen 4:
```bash
make -f Makefile.avx512 CXXFLAGS="-mavx512f -O3 -march=znver4 -I." all
```

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è (–∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ):
```bash
make -f Makefile.avx512 CXXFLAGS="-mavx512f -O3 -march=native -I." all
```

---

## üìà Benchmark —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫:

```bash
# –ë–µ–∑ AVX-512
./VanitySearch -t 8 1Test
# –†–µ–∑—É–ª—å—Ç–∞—Ç: ~25 MKey/s

# –° AVX-512
./VanitySearch-AVX512 -t 8 1Test
# –†–µ–∑—É–ª—å—Ç–∞—Ç: ~140 MKey/s

# –ü—Ä–∏—Ä–æ—Å—Ç: 5.6x
```

### –î–ª—è Puzzle 71:

```bash
# Standard
./VanitySearch -seg segments_puzzle71.txt -bits 71 -t 16 1FshYo
# Speed: ~30 MKey/s

# AVX-512
./VanitySearch-AVX512 -seg segments_puzzle71.txt -bits 71 -t 16 1FshYo
# Speed: ~180 MKey/s

# –ü—Ä–∏—Ä–æ—Å—Ç: 6x
```

---

## üéä –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏

### AVX-512 + Kangaroo:

```bash
./VanitySearch -seg segments_puzzle71.txt -bits 71 \\
               -kangaroo \\
               -t 16 \\
               1FshYo

# –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ:
# - Kangaroo: 2^35x (–∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–µ)
# - AVX-512: 6x (SIMD)
# - –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ: 2^35 * 6 = –û–ì–†–û–ú–ù–û–ï!
```

### AVX-512 + GPU:

```bash
./VanitySearch -seg segments_puzzle71.txt -bits 71 \\
               -gpu -gpuId 0,1 \\
               -t 16 \\
               1FshYo

# CPU –ø–æ—Ç–æ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç AVX-512
# GPU –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CUDA
# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å!
```

---

## üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | –°–∫–æ—Ä–æ—Å—Ç—å | –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ |
|--------------|----------|--------------|
| –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π CPU | 25 MKey/s | 1.0x |
| + –°–µ–≥–º–µ–Ω—Ç—ã + –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ | 30 MKey/s | 1.2x |
| + AVX-512 | 150 MKey/s | 6.0x |
| + AVX-512 + Kangaroo | ~150 MKey/s * sqrt | 6.0x * –∞–ª–≥–æ—Ä–∏—Ç–º |
| + AVX-512 + GPU | 1200 MKey/s | 48x |

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. Thermal Throttling

AVX-512 –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –º–Ω–æ–≥–æ —ç–Ω–µ—Ä–≥–∏–∏ –∏ –≥—Ä–µ–µ—Ç CPU:
- –ß–∞—Å—Ç–æ—Ç–∞ –º–æ–∂–µ—Ç —Å–Ω–∏–∑–∏—Ç—å—Å—è –Ω–∞ 10-20%
- –û—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ Skylake-X
- –ú–µ–Ω—å—à–µ –ø—Ä–æ–±–ª–µ–º –Ω–∞ Ice Lake+

**–†–µ—à–µ–Ω–∏–µ**: –•–æ—Ä–æ—à–µ–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ!

### 2. –ù–µ –¥–ª—è –≤—Å–µ—Ö –∑–∞–¥–∞—á

AVX-512 –æ–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è:
- ‚úÖ Batch processing –∫–ª—é—á–µ–π
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ö–µ—à–∏
- ‚úÖ –í–µ–∫—Ç–æ—Ä–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

–ù–µ –æ–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è:
- ‚ùå –û–¥–∏–Ω–æ—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- ‚ùå –í–µ—Ç–≤–ª–µ–Ω–∏—è –∏ —É—Å–ª–æ–≤–∏—è
- ‚ùå –°–ª—É—á–∞–π–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–∞–º—è—Ç–∏

### 3. Fallback

–ï—Å–ª–∏ CPU –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫–æ–¥:
```cpp
if (avx512Available) {
    ProcessWithAVX512();
} else {
    ProcessStandard();
}
```

---

## üîß –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è batch size:

```cpp
// –í AVX512BatchProcessor.h
#define AVX512_BATCH_SIZE 16  // –í–º–µ—Å—Ç–æ 8 - –¥–ª—è –ª—É—á—à–µ–π amortization
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:

```bash
# –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
make -f Makefile.avx512 CXXFLAGS="-mavx512f -O3 -march=native -flto -I." all

# –î–ª—è –æ—Ç–ª–∞–¥–∫–∏
make -f Makefile.avx512 debug=1 all
```

---

## üìö –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### SIMD —Ä–µ–≥–∏—Å—Ç—Ä—ã:

```
AVX-512: 32 —Ä–µ–≥–∏—Å—Ç—Ä–∞ –ø–æ 512 –±–∏—Ç (zmm0-zmm31)
         = 8 x 64-bit integers per register
         = –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ 8 Int'–æ–≤
```

### –ö–ª—é—á–µ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:

```cpp
_mm512_add_epi64()      // 8x —Å–ª–æ–∂–µ–Ω–∏–µ
_mm512_sub_epi64()      // 8x –≤—ã—á–∏—Ç–∞–Ω–∏–µ
_mm512_mul_epu32()      // 8x —É–º–Ω–æ–∂–µ–Ω–∏–µ
_mm512_cmpgt_epu64_mask() // 8x —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
_mm512_mask_blend_epi64() // –£—Å–ª–æ–≤–Ω–æ–µ —Å–ª–∏—è–Ω–∏–µ
```

### Pipeline:

```
Load 8 keys ‚Üí SIMD operations ‚Üí Store 8 results
     ‚Üì              ‚Üì                  ‚Üì
   1 cycle      1-4 cycles          1 cycle

Throughput: 8 keys per ~6 cycles vs 8 keys per ~40 cycles
```

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ —Å AVX-512

```bash
./VanitySearch -seg segments_puzzle71.txt -bits 71 -t 16 1FshYo
```

**–í—ã–≤–æ–¥:**
```
[AVX512] ‚úÖ AVX-512 –¥–æ—Å—Ç—É–ø–µ–Ω –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
[AVX512] –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ 8 –∫–ª—é—á–µ–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
[AVX512] –û–∂–∏–¥–∞–µ–º–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ: 4-8x

=== SIMD –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ CPU ===
AVX-512F: ‚úÖ –ü–û–î–î–ï–†–ñ–ò–í–ê–ï–¢–°–Ø
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ 8 –∫–ª—é—á–µ–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
  - –û–∂–∏–¥–∞–µ–º–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ: 4-8x
AVX2:     ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ
SSE4.2:   ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ
============================
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```bash
./VanitySearch -seg segments_puzzle71.txt -bits 71 \\
               -kangaroo \\
               -progress search.dat \\
               -t 16 \\
               1FshYo
```

**–ö–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç:**
- AVX-512 (6x SIMD —É—Å–∫–æ—Ä–µ–Ω–∏–µ)
- Kangaroo (2^35x –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–µ)
- –°–µ–≥–º–µ–Ω—Ç—ã (—Ñ–æ–∫—É—Å –Ω–∞ –≤–µ—Ä–æ—è—Ç–Ω—ã—Ö –∑–æ–Ω–∞—Ö)
- –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)

### –ü—Ä–∏–º–µ—Ä 3: Benchmark

```bash
# –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
echo "50.0 50.1 up benchmark" > bench.txt

# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π
time ./VanitySearch -seg bench.txt -bits 60 -t 8 1Test

# AVX-512 (–µ—Å–ª–∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–æ)
time ./VanitySearch-AVX512 -seg bench.txt -bits 60 -t 8 1Test

# –°—Ä–∞–≤–Ω–∏—Ç—å –≤—Ä–µ–º—è
```

---

## üíæ –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏

AVX-512 —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤, –Ω–æ –Ω–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ:

```
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π: ~10MB –±–∞–∑–æ–≤–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ
AVX-512:     ~12MB (–±—É—Ñ–µ—Ä—ã –¥–ª—è batch processing)

–£–≤–µ–ª–∏—á–µ–Ω–∏–µ: ~20%, –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ
```

---

## üéì –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö CPU

### Intel Skylake-X (AVX-512, –Ω–æ —Å–Ω–∏–∂–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã):

```bash
# –ú–µ–Ω—å—à–∏–π batch size –¥–ª—è –º–µ–Ω—å—à–µ–≥–æ –Ω–∞–≥—Ä–µ–≤–∞
make -f Makefile.avx512 CXXFLAGS="-mavx512f -O2 -I." all

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–Ω—å—à–µ –ø–æ—Ç–æ–∫–æ–≤
./VanitySearch -t 8  # –í–º–µ—Å—Ç–æ -t 16
```

### Intel Ice Lake+ (–ø–æ–ª–Ω–∞—è AVX-512 –±–µ–∑ penalty):

```bash
# –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
make -f Makefile.avx512 CXXFLAGS="-mavx512f -O3 -march=icelake-client -flto -I." all

# –ú–∞–∫—Å–∏–º—É–º –ø–æ—Ç–æ–∫–æ–≤
./VanitySearch -t $(nproc)
```

### AMD Zen 4 (–æ—Ç–ª–∏—á–Ω–∞—è AVX-512 –ø–æ–¥–¥–µ—Ä–∂–∫–∞):

```bash
# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è Zen 4
make -f Makefile.avx512 CXXFLAGS="-mavx512f -O3 -march=znver4 -mtune=znver4 -I." all
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### Intel:
- Intel Intrinsics Guide: https://software.intel.com/sites/landingpage/IntrinsicsGuide/
- AVX-512 Documentation

### –ü—Ä–∏–º–µ—Ä—ã:
- Bitcoin Core - SIMD –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- OpenSSL - AVX-512 implementations

---

## ‚ö° Quick Commands

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è:
```bash
make -f Makefile.avx512 clean all
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏:
```bash
./VanitySearch -v
```

### –ó–∞–ø—É—Å–∫ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é:
```bash
./VanitySearch -seg segments_puzzle71.txt -bits 71 \\
               -kangaroo \\
               -t $(nproc) \\
               1FshYo
```

---

## üéä –ò—Ç–æ–≥

**AVX-512** - –º–æ—â–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö CPU!

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- üöÄ 4-8x —É—Å–∫–æ—Ä–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ
- üí™ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU
- üéØ –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è batch operations

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- ‚ö†Ô∏è –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π CPU (Intel 2017+, AMD 2022+)
- ‚ö†Ô∏è –•–æ—Ä–æ—à–µ–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ
- ‚ö†Ô∏è –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ñ–ª–∞–≥–∞–º–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—Å–ª–∏ CPU –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç - –æ–≥—Ä–æ–º–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç!

---

*–í–µ—Ä—Å–∏—è: 1.0*  
*–î–∞—Ç–∞: 23 –¥–µ–∫–∞–±—Ä—è 2025*  
*–°—Ç–∞—Ç—É—Å: PRODUCTION READY*  
*‚ö° Maximum SIMD Power! ‚ö°*

